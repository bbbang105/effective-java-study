# ğŸ“Œ Item 12. `toString`ì„ í•­ìƒ ì¬ì •ì˜í•˜ë¼

## 1. `toString` ê·œì•½

- Objectì˜ ê¸°ë³¸ `toString` ë©”ì„œë“œëŠ” ìš°ë¦¬ê°€ ë³´ê³  ì‹¶ì€ ë¬¸ìì—´ì„ ë°˜í™˜í•´ì£¼ì§€ ì•ŠìŒ
  - ex) `í´ë˜ìŠ¤_ëª…@16ì§„ìˆ˜ë¡œ_í‘œí˜„í•œ_í•´ì‹œì½”ë“œ` 
  - ì´ëŠ” ê°„ê²°í•˜ì§€ë§Œ, ìœ ìµí•œ ì •ë³´ë¼ê³  í•˜ê¸°ëŠ” ì–´ë ¤ì›€
  - `010-5892-6693` ê³¼ ê°™ì€ í˜•íƒœê°€ í›¨ì”¬ ìœ ìµí•œ í˜•íƒœë¼ í•  ìˆ˜ ìˆìŒ

>`toString`ì˜ ì¼ë°˜ ê·œì•½ : "**ê°„ê²°í•˜ë©´ì„œë„ ì‚¬ëŒì´ ì½ê¸° ì‰¬ìš´ í˜•íƒœì˜ ìœ ìµí•œ ì •ë³´**ë¥¼ ë°˜í™˜í•˜ë¼."

=> ë•Œë¬¸ì— ëª¨ë“  í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ **`toString` ë©”ì„œë“œë¥¼ ì¬ì •ì˜**í•´ì•¼ í•¨

## 2. toStringì„ ì˜ êµ¬í˜„(= ì¬ì •ì˜) í•´ì•¼ í•˜ëŠ” ì´ìœ 

- ì´ë¥¼ ì˜ êµ¬í˜„í–ˆë‹¤ë©´, ì‚¬ìš©í•˜ê¸°ì— í›¨ì”¬ ìš©ì´í•˜ê³  ë””ë²„ê¹…í•˜ê¸°ê°€ ì¢‹ì•„ì§
- `toString` ë©”ì„œë“œëŠ” ê°ì²´ë¥¼ `printf`, `println`, `+`, `assert` êµ¬ë¬¸ì— ë„˜ê¸¸ ë•Œ, ë˜ëŠ” ë””ë²„ê±°ê°€ ê°ì²´ë¥¼ ì¶œë ¥í•  ë•Œ ìë™ìœ¼ë¡œ í˜¸ì¶œë¨
- ê·¸ë ‡ê¸°ì— ë©”ì„œë“œë¥¼ ì˜ êµ¬í˜„í–ˆë‹¤ë©´, ì•„ë˜ ì½”ë“œë§Œìœ¼ë¡œë„ ë¬¸ì œë¥¼ ì§„ë‹¨í•˜ê¸°ì— ì¶©ë¶„í•œ ë©”ì‹œì§€ë¥¼ ë‚¨ê¸¸ ìˆ˜ ìˆìŒ

```java
System.out.println(phoneNumber + "ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");

// ì˜ˆìƒ ê²°ê³¼ ê°’ : 010-5892-6693ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```
- ëŒ€ê°œ ì‹¤ì „ì—ì„œëŠ”, `toString` ë©”ì„œë“œê°€ ê°ì²´ì˜ ì£¼ìš” ì •ë³´ë¥¼ ëª¨ë‘ ë°˜í™˜í•˜ê²Œ í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ
  - **ê°ì²´ê°€ ê±°ëŒ€**í•˜ê±°ë‚˜ **ë¬¸ìì—´ë¡œ í‘œí˜„í•˜ê¸°ì— ì í•©í•˜ì§€ ì•Šì„ ì‹œ**ì—ëŠ” ì˜ˆì™¸

## 3. ë°˜í™˜ê°’ì˜ í¬ë§·ì„ ë¬¸ì„œí™”í•  ê²ƒì¸ê°€?

- `toString` ì„ êµ¬í˜„í•  ë•ŒëŠ” ë°˜í™˜ê°’ì˜ í¬ë§·ì„ ë¬¸ì„œí™”í•  ì§€ ê²°ì •í•´ì•¼ í•¨
  - ì „í™”ë²ˆí˜¸ë‚˜ í–‰ë ¬ ê°™ì€ ê°’ í´ë˜ìŠ¤ë¼ë©´ ë¬¸ì„œí™”í•˜ê¸°ë¥¼ ê¶Œì¥
- í¬ë§·ì„ ëª…ì‹œí•˜ê¸°ë¡œ ê²°ì •í–ˆë‹¤ë©´, í¬ë§·ì— ë§ëŠ” ë¬¸ìì—´ê³¼ ê°ì²´ë¥¼ ìƒí˜¸ ì „í™˜í•  ìˆ˜ ìˆëŠ” `ì •ì  íŒ©í„°ë¦¬`ë‚˜ `ìƒì„±ì`ë¥¼ í•¨ê»˜ ì œê³µí•´ì£¼ë©´ ì¢‹ìŒ
  - `BigInteger`, `BigDecimal` ê³¼ ê°™ì€ ëŒ€ë¶€ë¶„ì˜ ê¸°ë³¸ íƒ€ì… í´ë˜ìŠ¤ê°€ ì´ëŸ¬í•œ ë°©ì‹ì„ ë”°ë¦„
- í¬ë§·ì„ í•œ ë²ˆ ëª…ì‹œì— í•˜ê²Œ ë˜ë©´, ê³„ì†í•´ì„œ í•´ë‹¹ í¬ë§·ì— ë§ì¶°ì•¼ í•œë‹¤ëŠ” ì ì´ ë‹¨ì ìœ¼ë¡œ ì‘ìš©í•  ìˆ˜ë„ ìˆìŒ
  - ë§Œì•½ ì´í›„ ë¦´ë¦¬ìŠ¤ì—ì„œ í¬ë§· ìì²´ê°€ ë³€ê²½ëœë‹¤ë©´, ì´ì— ë”°ëë˜ ëª¨ë“  ì½”ë“œì™€ ë°ì´í„°ë“¤ì´ ì—‰ë§ì´ ë  ê²ƒì„

> ê²°ë¡ ì ìœ¼ë¡œ, í¬ë§·ì„ ëª…ì‹œí•˜ëŠëƒ ë§ˆëŠëƒëŠ” ê°œì¸ì˜ ì„ íƒì´ë©°, **ì¤‘ìš”í•œ ê²ƒì€ ì˜ë„ë¥¼ ëª…í™•íˆ ë°íˆëŠ” ê²ƒì„**

### ê°€. í¬ë§·ì„ ëª…ì‹œí•œ ê²½ìš°

```java
public class PhoneNumber {
    private final int areaCode;
    private final int prefix;
    private final int lineNumber;

    public PhoneNumber(int areaCode, int prefix, int lineNumber) {
        this.areaCode = areaCode;
        this.prefix = prefix;
        this.lineNumber = lineNumber;
    }

    /**
     * ì´ ì „í™”ë²ˆí˜¸ì˜ ë¬¸ìì—´ í‘œí˜„ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
     * ë¬¸ìì—´ì€ "XXX-YYY-ZZZZ" í˜•ì‹ì…ë‹ˆë‹¤.
     * XXXëŠ” ì§€ì—­ ì½”ë“œ, YYYëŠ” í”„ë¦¬í”½ìŠ¤, ZZZZëŠ” ê°€ì…ì ë²ˆí˜¸ì…ë‹ˆë‹¤.
     * ê°ê°ì˜ ëŒ€ë¬¸ìëŠ” 10ì§„ìˆ˜ ìˆ«ì í•˜ë‚˜ë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤.
     * 
     * @return ì´ ì „í™”ë²ˆí˜¸ì˜ ë¬¸ìì—´ í‘œí˜„
     */
    @Override
    public String toString() {
        return String.format("%03d-%03d-%04d", areaCode, prefix, lineNumber);
    }

    /**
     * ë¬¸ìì—´ í‘œí˜„ìœ¼ë¡œë¶€í„° PhoneNumber ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
     * ë¬¸ìì—´ì€ "XXX-XXX-XXXX" í˜•ì‹ì´ì–´ì•¼ í•©ë‹ˆë‹¤.
     *
     * @param phoneNumber ì „í™”ë²ˆí˜¸ì˜ ë¬¸ìì—´ í‘œí˜„
     * @return PhoneNumber ê°ì²´
     * @throws IllegalArgumentException ë¬¸ìì—´ì´ ì˜¬ë°”ë¥¸ í˜•ì‹ì´ ì•„ë‹Œ ê²½ìš°
     */
    public static PhoneNumber fromString(String phoneNumber) {
        String[] parts = phoneNumber.split("-");
        if (parts.length != 3) {
            throw new IllegalArgumentException("ì˜ëª»ëœ ì „í™”ë²ˆí˜¸ í˜•ì‹");
        }
        int areaCode = Integer.parseInt(parts[0]);
        int prefix = Integer.parseInt(parts[1]);
        int lineNumber = Integer.parseInt(parts[2]);
        return new PhoneNumber(areaCode, prefix, lineNumber);
    }
}
```

### ë‚˜. ì‚¬ìš© ì˜ˆì‹œ

```java
public class Main {
    public static void main(String[] args) {
        PhoneNumber phoneNumber = new PhoneNumber(123, 456, 7890);
        String phoneString = phoneNumber.toString();
        System.out.println("Phone number as string: " + phoneString);

        PhoneNumber parsedPhoneNumber = PhoneNumber.fromString(phoneString);
        System.out.println("Parsed phone number: " + parsedPhoneNumber);
    }
}

// ì˜ˆìƒ ê²°ê³¼ ê°’
// Phone number as string: 123-456-7890
// Parsed phone number: 123-456-7890
```

## 4. ë°˜í™˜ê°’ì— í¬í•¨ëœ ì •ë³´ë¥¼ ì–»ì–´ì˜¬ ìˆ˜ ìˆëŠ” APIë¥¼ ì œê³µí•˜ì

- ìœ„ì˜ ì˜ˆì‹œì—ì„œ, PhoneNumber ê°ì²´ëŠ” ì§€ì—­ ì½”ë“œ `area`, í”„ë¦¬í”½ìŠ¤ `prefix`, ê°€ì…ì ë²ˆí˜¸ `lineNumber` ìš© ì ‘ê·¼ìë¥¼ ì œê³µí•´ì£¼ì–´ì•¼ í•¨
- ê·¸ë ‡ì§€ ì•Šë‹¤ë©´, ê°ì²´ì—ì„œ ì§ì ‘ íŒŒì‹±ì„ í•´ì•¼ í•˜ëŠ”ë° ì´ëŠ” ì„±ëŠ¥ ìƒ ì¢‹ì§€ ì•Šê³  í•„ìš”í•˜ì§€ë„ ì•Šì€ ì‘ì—…ì„
  - ë˜í•œ í–¥í›„ í¬ë§·ì„ ë°”ê¾¸ê²Œ ë˜ì—ˆì„ ë•Œ ì‹œìŠ¤í…œì´ ë§ê°€ì§ˆ ìš°ë ¤ë„ ì¡´ì¬í•¨

```java
    /**
     * ì§€ì—­ ì½”ë“œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
     *
     * @return ì§€ì—­ ì½”ë“œ
     */
    public int getAreaCode() {
        return areaCode;
    }

    /**
     * í”„ë¦¬í”½ìŠ¤ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
     *
     * @return í”„ë¦¬í”½ìŠ¤
     */
    public int getPrefix() {
        return prefix;
    }

    /**
     * ë¼ì¸ ë²ˆí˜¸ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
     *
     * @return ë¼ì¸ ë²ˆí˜¸
     */
    public int getLineNumber() {
        return lineNumber;
    }
```
- ê·¸ë ‡ê¸°ì— ì´ëŸ¬í•œ ì ‘ê·¼ìë¥¼ ì œê³µí•´ ì£¼ì–´ ì½”ë“œ ê°€ë…ì„± ë° ìœ ì§€ ë³´ìˆ˜ì„±ì„ ë†’ì´ê³ , ë²„ê·¸ë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŒ

## 5. ì •ë¦¬

> ğŸ§‘ğŸ»â€ğŸ’» ëª¨ë“  êµ¬ì²´ í´ë˜ìŠ¤ì—ì„œ `toString` ë©”ì„œë“œë¥¼ ì¬ì •ì˜í•˜ì. ìƒìœ„ í´ë˜ìŠ¤ì—ì„œ ì´ë¯¸ ì•Œë§ê²Œ ì¬ì •ì˜í–ˆë‹¤ë©´ í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. <br>
> `toString` ë©”ì„œë“œë¥¼ ì˜ ì •ì˜í•œë‹¤ë©´ ì‚¬ìš©í•˜ê¸°ì—ë„ ì¢‹ê³  ë””ë²„ê¹…ì—ë„ íš¨ê³¼ì ì´ë‹¤. <br>
> `toString` ë©”ì„œë“œëŠ” í•´ë‹¹ ê°ì²´ì— ê´€í•œ ëª…í™•í•˜ê³  ìœ ìš©í•œ ì •ë³´ë¥¼ ì½ê¸° ì¢‹ì€ í˜•íƒœë¡œ ë°˜í™˜í•˜ëŠ” ë° ëª©ì ì„ ë‘ì–´ì•¼ í•œë‹¤.

# ğŸ“Œ Item 13. clone ì¬ì •ì˜ëŠ” ì£¼ì˜í•´ì„œ ì§„í–‰í•˜ë¼

## 1. `Cloneable` ì˜ í•œê³„

- `Cloneable` ì€ ë³µì œí•´ë„ ë˜ëŠ” í´ë ˆìŠ¤ì„ì„ ëª…ì‹œí•˜ëŠ” ìš©ë„ì˜ ë¯¹ìŠ¤ì¸ ì¸í„°í˜ì´ìŠ¤ì´ì§€ë§Œ, ì•„ì‰½ê²Œë„ ì˜ë„í•œ ëª©ì ìœ¼ë¥´ ì œëŒ€ë¡œ ì´ë£¨ì§€ ëª» í•¨
- ê°€ì¥ í° ë¬¸ì œëŠ” `clone` ë©”ì„œë“œê°€ ì„ ì–¸ëœ ê³³ì´ `Cloneable` ì´ ì•„ë‹Œ `Object` ì´ê³ , ê·¸ë§ˆì €ë„ `protected` ì´ê¸°ì— ì™¸ë¶€ ê°ì²´ì—ì„œ `clone` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ì—†ìŒ
- í•˜ì§€ë§Œ ì´ëŸ¬í•œ ë¬¸ì œì ì—ë„, `Cloneable` ë°©ì‹ì€ ë„ë¦¬ ì“°ì´ê³  ìˆê¸° ë•Œë¬¸ì— ì•Œì•„ë‘ë©´ ìœ ìš©í•¨

## 2. `Cloneable` ì¸í„°í˜ì´ìŠ¤ê°€ í•˜ëŠ” ì¼

- í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ì—ì„œëŠ” ë†€ëê²Œë„ `Object` ì˜ `protected` ë©”ì„œë“œì¸ `clone` ì˜ ë™ì‘ ë°©ì‹ì„ ê²°ì •í•¨
  - ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤ëŠ” ê²ƒì€, ì¼ë°˜ì ìœ¼ë¡œ í•´ë‹¹ í´ë˜ìŠ¤ê°€ ê·¸ ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì •ì˜í•œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤ê³  ì„ ì–¸í•˜ëŠ” í–‰ìœ„ì„
  - ê·¸ëŸ¬ë‚˜ `Cloneable` ê²½ìš°ì—ëŠ” ìƒìœ„ í´ë˜ìŠ¤ì— ì •ì˜ëœ `protected` ë©”ì„œë“œì˜ ë™ì‘ ë°©ì‹ì„ ë³€ê²½í•˜ë¯€ë¡œ, ìƒë‹¹íˆ ì´ë¡€ì ì¸ ë°©ì‹ì„
- ì‹¤ë¬´ì—ì„œ `Cloneable` ì„ êµ¬í˜„í•œ í´ë˜ìŠ¤ëŠ” `clone` ë©”ì„œë“œë¥¼ `public` ìœ¼ë¡œ ì œê³µí•˜ë©°, ì‚¬ìš©ìëŠ” ë‹¹ì—°íˆ ë³µì œê°€ ì œëŒ€ë¡œ ì´ë£¨ì–´ì§€ë¦¬ë¼ ê¸°ëŒ€í•¨
  - ì´ëŸ¬í•œ ê¸°ëŒ€ë¥¼ ë§Œì¡±ì‹œí‚¤ê¸° ìœ„í•´ì„œëŠ”, í•´ë‹¹ í´ë˜ìŠ¤ ë° ëª¨ë“  ìƒìœ„ í´ë˜ìŠ¤ëŠ”` 1) ë³µì¡í•˜ê³  2) ê°•ì œí•  ìˆ˜ ì—†ê³  3) í—ˆìˆ í•˜ê²Œ ê¸°ìˆ ëœ` í”„ë¡œí† ì½œì„ ì§€ì¼œì•¼ í•¨
  - ê·¸ë ‡ê²Œ ë˜ë©´ `1) ê¹¨ì§€ê¸° ì‰½ê³  2) ìœ„í—˜í•˜ê³  3) ëª¨ìˆœì ì¸ ë©”ì»¤ë‹ˆì¦˜`ì´ íƒ„ìƒí•¨ -> ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šê³ ë„ ê°ì²´ ìƒì„±ì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸

## 3. ê°€ë³€ ìƒíƒœë¥¼ ì°¸ì¡°í•˜ì§€ ì•ŠëŠ” í´ë˜ìŠ¤ìš© `clone` ë©”ì„œë“œ

- ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ” clone ë©”ì„œë“œë¥¼ ê°€ì§„ ìƒìœ„ í´ë˜ìŠ¤ë¥¼ ìƒì†í•´ `Cloneable` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í–ˆë‹¤ê³  ê°€ì •
- ì—¬ê¸°ì„œ `super.clone` ì„ í˜¸ì¶œí•˜ì—¬ ì–»ì€ ê°ì²´ëŠ” ì›ë³¸ì˜ ì™„ë²½í•œ ë³µì œë³¸ì„
  - í´ë˜ìŠ¤ì— ì •ì˜ëœ ëª¨ë“  í•„ë“œëŠ” ì›ë³¸ í•„ë“œì™€ ë˜‘ê°™ì€ ê°’ì„ ê°€ì§
- ë§Œì•½ ëª¨ë“  í•„ë“œê°€ ê¸°ë³¸ íƒ€ì…ì´ê±°ë‚˜ ë¶ˆë³€ ê°ì²´ë¥¼ ì°¸ì¡°í•œë‹¤ë©´, ì´ë¯¸ ì™„ë²½íˆ ì›í•˜ëŠ” ìƒíƒœì´ë¯€ë¡œ ë”ì´ìƒ ì† ë³¼ ê²ƒì´ ì—†ìŒ

> ê·¸ëŸ¬ë‚˜, ì“¸ë°ì—†ëŠ” ë³µì‚¬ë¥¼ ì§€ì–‘í•œë‹¤ëŠ” ê´€ì ì—ì„œ ë³´ë©´ ë¶ˆë³€ í´ë˜ìŠ¤ëŠ” êµ³ì´ `clone` ë©”ì„œë“œë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ìŒ

```java
@Override public PhoneNumber clone() {
    try {
        return (PhoneNumber) super.clone();
    } catch (CloneNotSupportedException e) {
      throw new AssertionError(); // ë°œìƒí•  ìˆ˜ ì—†ëŠ” ì¼
    }
}
```

- `Object` ì˜ `clone` ë©”ì„œë“œëŠ” `Object` ë¥¼ ë°˜í™˜í•˜ì§€ë§Œ, `PhoneNumber` ì˜ `clone` ë©”ì„œë“œëŠ” `PhoneNumber` ë¥¼ ë°˜í™˜í•¨
  - ì´ë¥¼ í†µí•´ì„œ í´ë¼ì´ì–¸íŠ¸ê°€ í˜•ë³€í™˜ í•˜ì§€ ì•Šì•„ë„ ë¨
- `super.clone` ìœ¼ë¡œ ì–»ì€ ê°ì²´ë¥¼ ë°˜í™˜í•˜ê¸° ì „ì—, `(PhoneNumber)` ë¡œ í˜•ë³€í™˜ì„ í•´ì£¼ê¸°ì— ì ˆëŒ€ ì‹¤íŒ¨í•˜ì§€ ì•Šì•„, ì‚¬ì‹¤ìƒ ì—ëŸ¬ ì²˜ë¦¬ëŠ” ë¬´ì˜ë¯¸í•¨

> ì´ì²˜ëŸ¼ ë¶ˆë³€ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ëŠ” ê²½ìš°ì—ëŠ” ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ”ë°, ê°€ë³€ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê²Œ ë˜ëŠ” ìˆœê°„ ì—¬ëŸ¬ ê°€ì§€ë¥¼ ê³ ë ¤í•´ì£¼ì–´ì•¼ í•¨

## 4. ê°€ë³€ ìƒíƒœë¥¼ ì°¸ì¡°í•˜ëŠ” í´ë˜ìŠ¤ìš© `clone` ë©”ì„œë“œ

```java
public class Stack {
    private Object[] elements;
    private int size = 0;
    private static final int DEFAULT_INITIAL_CAPACITY = 16;
    
    public Stack() {
      this.elements = new Object[DEFAULT_INITIAL_CAPACITY];
    }
    
  ... (ìƒëµ)
  
}
```

- `elements` ë°°ì—´ íƒ€ì… í•„ë“œë¥¼ ê°€ì§€ê³  ìˆëŠ” `Stack` í´ë˜ìŠ¤ë¥¼ ë³µì œí•œë‹¤ê³  ê°€ì •
  - ì´ëŠ” ì›ë³¸ `Stack` ì™€ ë™ì¼í•œ ë°°ì—´ì„ ì°¸ì¡°í•˜ë¯€ë¡œ, ì›ë³¸ or ë³µì œë³¸ ì¤‘ í•˜ë‚˜ë¥¼ ìˆ˜ì •í•˜ë©´ ë‹¤ë¥¸ í•˜ë‚˜ë„ ìˆ˜ì •ë˜ì–´ ë¶ˆë³€ì‹ì„ í•´ì¹˜ê²Œ ë¨
  - ë•Œë¬¸ì— ê°€ë³€ í•„ë“œëŠ” ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ì—¬ ì´ëŸ¬í•œ ìƒí™©ì„ ë°©ì§€í•´ì•¼ í•¨

> `clone` ë©”ì„œë“œëŠ” ì‚¬ì‹¤ìƒ ìƒì„±ì¥ì™€ ë™ì¼í•œ íš¨ê³¼ë¥¼ ëƒ„ <br>
> ì¦‰, `clone` ì€ **ì›ë³¸ ê°ì²´ì— ì•„ë¬´ëŸ° í•´ë¥¼ ë¼ì¹˜ì§€ ì•ŠëŠ” ë™ì‹œì—, ë³µì œëœ ê°ì²´ì˜ ë¶ˆë³€ì‹ì„ ë³´ì¥í•´ì•¼ í•¨**

- ìƒì„±ìë¥¼ í†µí•´ì„œëŠ” ë¹ˆ ë°°ì—´ë§Œ ê°€ì§€ê²Œ ë˜ë¯€ë¡œ, ì œëŒ€ë¡œ ë™ì‘í•˜ë ¤ë©´ ìŠ¤íƒ ë‚´ë¶€ ì •ë³´ë¥¼ ë³µì‚¬í•´ì•¼ í•¨
  - ì—¬ëŸ¬ ê°€ì§€ ë°©ë²•ì´ ìˆëŠ”ë°, ê°€ì¥ ì‰¬ìš´ ë°©ë²•ìœ¼ë¡œëŠ” `elements` ë°°ì—´ì˜ `clone` ì„ ì¬ê·€ì ìœ¼ë¡œ í˜¸ì¶œí•´ì£¼ëŠ” ê²ƒì„

### ê°€. ë°°ì—´ìš© `clone` ë©”ì„œë“œ

```java
@Override public Stack clone() {
    try {
      Stack result = (Stack) super.clone();
      result.elements = elements.clone();
      return result;
    } catch (CloneNotSupportedException e) {
      throw new AssertionError();
    }
}
```

- ì—¬ê¸°ì„œ `elements.clone()` ì˜ ê²°ê³¼ë¥¼ í˜•ë³€í™˜ í•  í•„ìš”ê°€ ì—†ìŒ
  - ì™œëƒí•˜ë©´ ë°°ì—´ì˜ `clone` ì€ ëŸ°íƒ€ì„ íƒ€ì…ê³¼ ì»´íŒŒì¼ íƒ€ì… ëª¨ë‘ê°€ ì›ë³¸ ë°°ì—´ê³¼ ë˜‘ê°™ì€ ë°°ì—´ì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸
  - ë”°ë¼ì„œ ë°°ì—´ì„ ë³µì œí•  ë•ŒëŠ” `clone` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê¶Œì¥ë˜ë©°, ì‚¬ì‹¤ìƒ ë°°ì—´ì´ `clone` ê¸°ëŠ¥ì„ ì œëŒ€ë¡œ ì‚¬ìš©í•˜ëŠ” ìœ ì¼í•œ ì˜ˆì„

### ë‚˜. í•´ì‹œí…Œì´ë¸”ìš© `clone` ë©”ì„œë“œ

#### í•´ì‹œí…Œì´ë¸” í´ë˜ìŠ¤
```java
public class HashTable implements Cloneable {
    private Entry[] buckets = ...;
    
    private static class Entry {
        final Object key;
        Object value;
        Entry next;

      Entry(Object key, Object value, Entry next) {
          this.key = key;
          this.value = value;
          this.next = next;
      }
    }
    
  ... (ìƒëµ)
  
}
```

#### ì˜ëª»ëœ `clone` ë©”ì„œë“œ

```java
@Override public HashTable clone() {
    try {
      HashTable result = (HashTable) super.clone();
      result.buckets = buckets.clone();
      return result;
    } catch (CloneNotSupportedException e) {
      throw new AssertionError();
    }
}
```

- ë³µì œë³¸ì€ ê³ ìœ í•œ ë²„í‚· ë°°ì—´ì„ ê°€ì§€ì§€ë§Œ, í•´ë‹¹ ë°°ì—´ì€ ì›ë³¸ê³¼ ê°™ì€ ì—°ê²° ë¦¬ìŠ¤íŠ¸ë¥¼ ì°¸ì¡°í•˜ê¸°ì— ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ
  - ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ê° ë²„í‚·ì„ êµ¬ì„±í•˜ëŠ” ì—°ê²° ë¦¬ìŠ¤íŠ¸ë¥¼ ë³µì‚¬í•´ì•¼ í•¨

#### í•´ì‹œí…Œì´ë¸” í´ë˜ìŠ¤ì— `deepCopy()` ë©”ì„œë“œ ì¶”ê°€
```java
public class HashTable implements Cloneable {
    private Entry[] buckets = ...;
    
    private static class Entry {
        final Object key;
        Object value;
        Entry next;

        Entry(Object key, Object value, Entry next) {
            this.key = key;
            this.value = value;
            this.next = next;
        }
        
        // ì—”íŠ¸ë¦¬ê°€ ê°€ë¦¬í‚¤ëŠ” ì—°ê²° ë¦¬ìŠ¤íŠ¸ë¥¼ ì¬ê·€ì ìœ¼ë¡œ ë³µì‚¬
        Entry deepCopy() {
            return new Entry(key, value,
                    next == null ? null : next.deepCopy());
        }
    }

  @Override public HashTable clone() {
    try {
      HashTable result = (HashTable) super.clone();
      result.buckets = new Entry[buckets.length]; // ìƒˆë¡œìš´ ì—”íŠ¸ë¦¬ ë°°ì—´ ìƒì„±
      for (int i = 0; i < buckets.length; i++) {
        if (buckets[i] != null) {
          result.buckets[i] = buckets[i].deepCopy(); // ì—°ê²° ë¦¬ìŠ¤íŠ¸ê¹Œì§€ ë³µì‚¬
        }
      }
      return result;
    } catch (CloneNotSupportedException e) {
      throw new AssertionError();
    }
  }
}
```

- HashTableì˜ `clone` ë©”ì„œë“œëŠ” ë¨¼ì € ì ì ˆí•œ í¬ê¸°ì˜ ìƒˆë¡œìš´ ë²„í‚·ì„ í• ë‹¹í•¨
- ë²„í‚· ë°°ì—´ì„ ìˆœíšŒí•˜ë©° ë¹„ì§€ ì•Šì€ ê° ë²„í‚·ì— ëŒ€í•´ì„œ ê¹Šì€ ë³µì‚¬ë¥¼ ìˆ˜í–‰í•¨
  - Entryì˜ `deepCopy()` ë©”ì„œë“œëŠ” **ìì‹ ì´ ê°€ë¦¬í‚¤ëŠ” ì—°ê²° ë¦¬ìŠ¤íŠ¸ ì „ì²´ë¥¼ ë³µì‚¬í•˜ê¸° ìœ„í•´ ìì‹ ì„ ì¬ê·€ì ìœ¼ë¡œ í˜¸ì¶œí•¨**
- í•˜ì§€ë§Œ ì¬ê·€ í˜¸ì¶œ ë•Œë¬¸ì— ë¦¬ìŠ¤íŠ¸ì˜ ì›ì†Œ ìˆ˜ë§Œí¼ ìŠ¤íƒ í”„ë ˆì„ì„ ì†Œë¹„í•˜ì—¬, **ë¦¬ìŠ¤íŠ¸ê°€ ê¸¸ë©´ `ìŠ¤íƒ ì˜¤ë²„í”Œë¡œìš°`ê°€ ì¼ì–´ë‚  ìš°ë ¤ê°€ ì¡´ì¬í•¨**
  - ë•Œë¬¸ì— ì´ë¥¼ í”¼í•˜ê¸° ìœ„í•´ì„œ ì¬ê·€ í˜¸ì¶œ ëŒ€ì‹ , **`ë°˜ë³µì`ë¥¼ ì¨ì„œ ìˆœíšŒí•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ìˆ˜ì •í•´ì•¼ í•¨**

#### ì—”íŠ¸ë¦¬ ìì‹ ì´ ê°€ë¦¬í‚¤ëŠ” ì—°ê²° ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜ë³µì ìœ¼ë¡œ ë³µì‚¬í•˜ë„ë¡ êµ¬í˜„
```java
Entry deepCopy() {
    Entry result = new Entry(key, value, next);
    for (Entry p = result; p.next != null; p = p.next) {
        p.next = new Entry(p.next.key, p.next.value, p.next.next);
    }
    return result;
}
```

## 5. ìƒì†ìš© í´ë˜ìŠ¤ëŠ” `Cloneable` ì„ êµ¬í˜„í•´ì„œëŠ” ì•ˆëœë‹¤

- í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ `clone` ì„ ì¬ì •ì˜í•  ìˆ˜ë„ ìˆê¸°ì—, ì•„ë˜ì™€ ê°™ì´ ìƒìœ„ í´ë˜ìŠ¤ì—ì„œ `clone` ì„ í‡´í™”ì‹œì¼œ ë°©ì§€í•  ìˆ˜ ìˆìŒ

```java
@Override
protected final Object clone() throws CloneNotSupportedException { // finalë¡œ ì„ ì–¸
    throw new CloneNotSupportedException();
}
```

## 6. ë³µì‚¬ ìƒì„±ìì™€ ë³µì‚¬ íŒ©í„°ë¦¬

- `cloneable` ë°©ì‹ì€ ëŒ€ì²´ë¡œ ë³µì¡í•˜ê¸° ë•Œë¬¸ì—, ë³µì œì—ì„œëŠ” ë³µì‚¬ ìƒì„±ìì™€ ë³µì‚¬ íŒ©í„°ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê¶Œì¥ë¨

### ê°€. ë³µì‚¬ ìƒì„±ì

```java
public class Person {
  private String name;
  private int age;

  // ì¼ë°˜ ìƒì„±ì
  public Person(String name, int age) {
    this.name = name;
    this.age = age;
  }

  // ë³µì‚¬ ìƒì„±ì
  public Person(Person other) {
    this.name = other.name;
    this.age = other.age;
  }

  @Override
  public String toString() {
    return name + " (" + age + ")";
  }
}
```

```java
public static void main(String[] args) {
    Person original = new Person("John", 30);
    Person copy = new Person(original); // ë³µì‚¬ ìƒì„±ì ì‚¬ìš©

    System.out.println(original); // John (30)
    System.out.println(copy);     // John (30)
}
```

- `ë³µì‚¬ ìƒì„±ì` : ê¸°ì¡´ ê°ì²´ë¥¼ ë°›ì•„ì„œ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ìƒì„±ì

### ë‚˜. ë³µì‚¬ íŒ©í„°ë¦¬

```java
public class Person {
  private String name;
  private int age;

  // ì¼ë°˜ ìƒì„±ì
  public Person(String name, int age) {
    this.name = name;
    this.age = age;
  }

  // ë³µì‚¬ íŒ©í„°ë¦¬ ë©”ì„œë“œ
  public static Person copyOf(Person other) {
    return new Person(other.name, other.age);
  }

  @Override
  public String toString() {
    return name + " (" + age + ")";
  }
}
```

```java
public static void main(String[] args) {
    Person original = new Person("John", 30);
    Person copy = Person.copyOf(original); // ë³µì‚¬ íŒ©í„°ë¦¬ ì‚¬ìš©

    System.out.println(original); // John (30)
    System.out.println(copy);     // John (30)
}
```

- `ë³µì‚¬ íŒ©í„°ë¦¬` : ë³µì‚¬ ìƒì„±ìë¥¼ ëª¨ë°©í•œ ì •ì  íŒ©í„°ë¦¬
  - `ì •ì  íŒ©í„°ë¦¬` : ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì •ì  ë©”ì„œë“œ

### ë‹¤. ë³µì‚¬ ìƒì„±ì & ë³µì‚¬ íŒ©í„°ë¦¬ê°€ `Cloneable/clone` ë°©ì‹ë³´ë‹¤ ë‚˜ì€ ì 

- ì–¸ì–´ ëª¨ìˆœì ì´ê³  ìœ„í—˜í•œ ê°ì²´ ìƒì„± ë©”ì»¤ë‹ˆì¦˜ (ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë°©ì‹)ì„ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
- ì—‰ì„±í•˜ê²Œ ë¬¸ì„œí™” ëœ ê·œì•½ì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ
- ì •ìƒì ì¸ final í•„ë“œ ìš©ë²•ê³¼ ì¶©ëŒí•˜ì§€ ì•ŠìŒ
- ë¶ˆí•„ìš”í•œ ê²€ì‚¬ ì˜ˆì™¸ë¥¼ ë˜ì§€ì§€ ì•ŠìŒ
- í˜•ë³€í™˜ì´ í•„ìš” ì—†ìŒ
- ë³€í™˜ ìƒì„±ì & ë³€í™˜ íŒ©í„°ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´, í´ë¼ì´ì–¸íŠ¸ê°€ ë³µì œë³¸ì˜ íƒ€ì…ì„ ì§ì ‘ ì„ íƒí•  ìˆ˜ ìˆìŒ

## 7. ì •ë¦¬

> ğŸ§‘ğŸ»â€ğŸ’» ìƒˆë¡œìš´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ ë•Œ ì ˆëŒ€ `Cloneable` ì„ í™•ì¥í•´ì„œëŠ” ì•ˆë˜ë©°, ìƒˆë¡œìš´ í´ë˜ìŠ¤ë„ ì´ë¥¼ êµ¬í˜„í•´ì„œëŠ” ì•ˆ ëœë‹¤. <br>
> ë³µì œ ê¸°ëŠ¥ì€ `ë³µì‚¬ ìƒì„±ì`ì™€ `ë³µì‚¬ íŒ©í„°ë¦¬`ë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì¢‹ë‹¤. <br>
> ë‹¨, ë°°ì—´ë§Œì€ `clone` ë©”ì„œë“œ ë°©ì‹ì´ ê°€ì¥ ê¹”ë”í•˜ê²Œ ìœ ìš©í•˜ë‹¤.